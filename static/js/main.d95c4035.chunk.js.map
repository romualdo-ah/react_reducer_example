{"version":3,"sources":["components/styles.module.css","components/DataFetching.js","App.js","index.js"],"names":["module","exports","initialState","loading","error","posts","reducer","state","action","type","payload","filter","post","id","DataFetching","useReducer","dispatch","titleInputRef","useRef","bodyInputRef","useEffect","length","axios","get","then","response","data","catch","addPost","e","preventDefault","newPost","title","current","value","body","userId","Date","getMilliseconds","onSubmit","style","display","flexDirection","htmlFor","name","ref","onClick","map","index","className","styles","card","delete","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kHACAA,EAAOC,QAAU,CAAC,KAAO,uB,iKCEnBC,EAAe,CACnBC,SAAS,EACTC,MAAO,GACPC,MAAO,IAGHC,EAAU,SAACC,EAAOC,GACtB,OAAQA,EAAOC,MACb,IAAK,gBACH,MAAO,CACLN,SAAS,EACTC,MAAO,GACPC,MAAOG,EAAOE,SAElB,IAAK,cACH,MAAO,CACLP,SAAS,EACTC,MAAO,GACPC,MAAM,GAAD,mBAAME,EAAMF,OAAZ,CAAmBG,EAAOE,WAEnC,IAAK,iBACH,MAAO,CACLP,SAAS,EACTC,MAAO,GACPC,MAAOE,EAAMF,MAAMM,QAAO,SAACC,GAAD,OAAUA,EAAKC,KAAOL,EAAOE,YAE3D,IAAK,cACH,MAAO,CACLP,SAAS,EACTE,MAAO,GACPD,MAAO,wBAEX,QACE,OAAOG,IAIE,SAASO,IAAgB,IAAD,EACXC,qBAAWT,EAASJ,GADT,mBAC9BK,EAD8B,KACvBS,EADuB,KAE/BC,EAAgBC,mBAChBC,EAAeD,mBAErBE,qBAAU,WACe,IAAvBb,EAAMF,MAAMgB,QACVC,IACGC,IAAI,8CACJC,MAAK,SAACC,GACLT,EAAS,CAAEP,KAAM,gBAAiBC,QAASe,EAASC,UAErDC,OAAM,SAACvB,GACNY,EAAS,CAAEP,KAAM,qBAEtB,CAACF,IAEJ,IAAMqB,EAAU,SAACC,GACfA,EAAEC,iBAEF,IAAMC,EAAU,CACdC,MAAOf,EAAcgB,QAAQC,MAC7BC,KAAMhB,EAAac,QAAQC,MAC3BE,QAAQ,IAAIC,MAAOC,mBAErBhB,IACGV,KAAK,6CAA8CmB,GACnDP,MAAK,SAACC,GACLT,EAAS,CAAEP,KAAM,cAAeC,QAASe,EAASC,WASxD,OACE,8BACGnB,EAAMJ,QACL,UAEA,gCACE,uBAAMoC,SAAUX,EAAhB,UACE,oBAAGY,MAAO,CAAEC,QAAS,OAAQC,cAAe,UAA5C,UACE,uBAAOC,QAAQ,QAAf,oBACA,uBAAOC,KAAK,QAAQ/B,GAAG,QAAQgC,IAAK5B,IAEpC,uBAAO0B,QAAQ,OAAf,mBACA,uBAAOC,KAAK,OAAO/B,GAAG,OAAOgC,IAAK1B,OAEpC,wBAAQ2B,QAASlB,EAAjB,yBAEF,gDAEE,+BAAOrB,EAAMF,MAAMgB,YAErB,qBAAKmB,MAAO,CAAEC,QAAS,OAAQC,cAAe,kBAA9C,SACGnC,EAAMF,MAAM0C,KAAI,SAACnC,EAAMoC,GACtB,OACE,sBAAKC,UAAWC,IAAOC,KAAvB,UACE,4BAAIvC,EAAKoB,QACT,uBACA,4BAAIpB,EAAKuB,OACT,wBAAQW,QAAS,kBAhCbjC,EAgC8BD,EAAKC,GA/BrDS,IAAM8B,OAAN,qDAA2DvC,SAC3DG,EAAS,CAAEP,KAAM,iBAAkBC,QAASG,IAF3B,IAACA,GAgCJ,sBAJgCmC,aC3FnCK,MARf,WACE,OACE,mCACE,cAACvC,EAAD,OCENwC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.d95c4035.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"styles_card__3I0fM\"};","import React, { useReducer, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport styles from \"./styles.module.css\";\r\nconst initialState = {\r\n  loading: true,\r\n  error: \"\",\r\n  posts: [],\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_SUCCESS\":\r\n      return {\r\n        loading: false,\r\n        error: \"\",\r\n        posts: action.payload,\r\n      };\r\n    case \"ADD_SUCCESS\":\r\n      return {\r\n        loading: false,\r\n        error: \"\",\r\n        posts: [...state.posts, action.payload],\r\n      };\r\n    case \"REMOVE_SUCCESS\":\r\n      return {\r\n        loading: false,\r\n        error: \"\",\r\n        posts: state.posts.filter((post) => post.id !== action.payload),\r\n      };\r\n    case \"FETCH_ERROR\":\r\n      return {\r\n        loading: false,\r\n        posts: [],\r\n        error: \"something went wrong\",\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function DataFetching() {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  const titleInputRef = useRef();\r\n  const bodyInputRef = useRef();\r\n\r\n  useEffect(() => {\r\n    state.posts.length === 0 &&\r\n      axios\r\n        .get(\"https://jsonplaceholder.typicode.com/posts\")\r\n        .then((response) => {\r\n          dispatch({ type: \"FETCH_SUCCESS\", payload: response.data });\r\n        })\r\n        .catch((error) => {\r\n          dispatch({ type: \"FETCH_ERROR\" });\r\n        });\r\n  }, [state]);\r\n\r\n  const addPost = (e) => {\r\n    e.preventDefault();\r\n    \r\n    const newPost = {\r\n      title: titleInputRef.current.value,\r\n      body: bodyInputRef.current.value,\r\n      userId: new Date().getMilliseconds(),\r\n    };\r\n    axios\r\n      .post(\"https://jsonplaceholder.typicode.com/posts\", newPost)\r\n      .then((response) => {\r\n        dispatch({ type: \"ADD_SUCCESS\", payload: response.data });\r\n      });\r\n  };\r\n\r\n  const removePost = (id) => {\r\n    axios.delete(`https://jsonplaceholder.typicode.com/posts/${id}`);\r\n    dispatch({ type: \"REMOVE_SUCCESS\", payload: id });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {state.loading ? (\r\n        \"Loading\"\r\n      ) : (\r\n        <div>\r\n          <form onSubmit={addPost}>\r\n            <p style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n              <label htmlFor=\"title\">title:</label>\r\n              <input name=\"title\" id=\"title\" ref={titleInputRef} />\r\n\r\n              <label htmlFor=\"body\">body:</label>\r\n              <input name=\"body\" id=\"body\" ref={bodyInputRef} />\r\n            </p>\r\n            <button onClick={addPost}>Add Post</button>\r\n          </form>\r\n          <p>\r\n            number of Post:\r\n            <span>{state.posts.length}</span>\r\n          </p>\r\n          <div style={{ display: \"flex\", flexDirection: \"column-reverse\" }}>\r\n            {state.posts.map((post, index) => {\r\n              return (\r\n                <div className={styles.card} key={index}>\r\n                  <p>{post.title}</p>\r\n                  <hr />\r\n                  <p>{post.body}</p>\r\n                  <button onClick={() => removePost(post.id)}>REMOVE</button>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import DataFetching from \"./components/DataFetching\";\nfunction App() {\n  return (\n    <>\n      <DataFetching />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}