(this.webpackJsonpreact_reducer_example=this.webpackJsonpreact_reducer_example||[]).push([[0],{16:function(e,t,n){e.exports={card:"styles_card__3I0fM"}},23:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),o=n(15),s=n.n(o),i=(n(23),n(17)),l=n(18),a=n(5),d=n.n(a),p=n(16),j=n.n(p),u=n(0),b={loading:!0,error:"",posts:[]},h=function(e,t){switch(t.type){case"FETCH_SUCCESS":return{loading:!1,error:"",posts:t.payload};case"ADD_SUCCESS":return{loading:!1,error:"",posts:[].concat(Object(l.a)(e.posts),[t.payload])};case"REMOVE_SUCCESS":return{loading:!1,error:"",posts:e.posts.filter((function(e){return e.id!==t.payload}))};case"FETCH_ERROR":return{loading:!1,posts:[],error:"something went wrong"};default:return e}};function O(){var e=Object(c.useReducer)(h,b),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(c.useRef)(),s=Object(c.useRef)();Object(c.useEffect)((function(){0===n.posts.length&&d.a.get("https://jsonplaceholder.typicode.com/posts").then((function(e){r({type:"FETCH_SUCCESS",payload:e.data})})).catch((function(e){r({type:"FETCH_ERROR"})}))}),[n]);var l=function(e){e.preventDefault();var t={title:o.current.value,body:s.current.value,userId:(new Date).getMilliseconds()};d.a.post("https://jsonplaceholder.typicode.com/posts",t).then((function(e){r({type:"ADD_SUCCESS",payload:e.data})}))};return Object(u.jsx)("div",{children:n.loading?"Loading":Object(u.jsxs)("div",{children:[Object(u.jsxs)("form",{onSubmit:l,children:[Object(u.jsxs)("p",{style:{display:"flex",flexDirection:"column"},children:[Object(u.jsx)("label",{htmlFor:"title",children:"title:"}),Object(u.jsx)("input",{name:"title",id:"title",ref:o}),Object(u.jsx)("label",{htmlFor:"body",children:"body:"}),Object(u.jsx)("input",{name:"body",id:"body",ref:s})]}),Object(u.jsx)("button",{onClick:l,children:"Add Post"})]}),Object(u.jsxs)("p",{children:["number of Post:",Object(u.jsx)("span",{children:n.posts.length})]}),Object(u.jsx)("div",{style:{display:"flex",flexDirection:"column-reverse"},children:n.posts.map((function(e,t){return Object(u.jsxs)("div",{className:j.a.card,children:[Object(u.jsx)("p",{children:e.title}),Object(u.jsx)("hr",{}),Object(u.jsx)("p",{children:e.body}),Object(u.jsx)("button",{onClick:function(){return t=e.id,d.a.delete("https://jsonplaceholder.typicode.com/posts/".concat(t)),void r({type:"REMOVE_SUCCESS",payload:t});var t},children:"REMOVE"})]},t)}))})]})})}var f=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(O,{})})};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.d95c4035.chunk.js.map